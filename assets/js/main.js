function mainVisual(){var n=[{name:"ClickESG Service"},{name:"ClickESG Solutions"},{name:"About ClickESG"}],i=0,s="";let a=!1,e=!1,l=()=>1024<=window.innerWidth;function t(e,t){var e=e.realIndex,i=t.realIndex;0===e&&i===n.length-1?t.slideNext():e===n.length-1&&0===i?t.slidePrev():i<e?t.slideNext():e<i&&t.slidePrev()}function o(){var e=$(".swiper-pagination-bullet-active .timer-title").outerWidth(),t=100*i/50;$(".count_txt").text(i),$(".swiper-pagination-bullet .timer-percent").css({width:"0%"}),$(".swiper-pagination-bullet-active .timer-percent").css({width:t+"%"}),l()?$(".swiper-pagination-bullet").css({width:"18px"}):$(".swiper-pagination-bullet").css({width:"15px"}),$(".swiper-pagination-bullet-active").css({width:e+"px"})}function r(){var e=$(".swiper-pagination-bullet-active .timer-title").outerWidth();$(".swiper-pagination-bullet-active").css({width:e+"px"}),clearInterval(s),s=setInterval(()=>{50<=++i&&(u.slideNext(),i=0),o()},100),a=!0}function p(e,t){e.params.touchRatio=t?1:0,e.update()}var c=new Swiper(".swiper.link",{loop:!0,effect:"fade"}),d=new Swiper(".swiper.bg",{slidesPerView:1,loop:!0,speed:1200,pagination:{el:".swiper-controls .swiper-pagination",clickable:!0,renderBullet:function(e,t){return'<div class="'+t+'"><span class="timer-title">0'+(e+1)+" "+n[e].name+'</span><span class="timer-bar"><span class="timer-percent"></span></span></div>'}},thumbs:{swiper:c}}),u=new Swiper(".swiper.title",{loop:!0,speed:1200,on:{init:function(){l()?$(".swiper-pagination-bullet").css({width:"18px"}):$(".swiper-pagination-bullet").css({width:"15px"}),setTimeout(function(){r()},100)},slideChangeTransitionStart:function(){p(this,!1),i=0,o(),setTimeout(()=>p(this,!0),1300)}}});u.on("slideChangeTransitionStart",function(){e||(e=!0,t(u,d),e=!1)}),u.on("touchEnd",function(){e||(e=!0,t(u,d),e=!1),setTimeout(function(){var e=$(".swiper-pagination-bullet-active .timer-title").outerWidth();l()?$(".swiper-pagination-bullet").css({width:"18px"}):$(".swiper-pagination-bullet").css({width:"15px"}),$(".swiper-pagination-bullet-active").css({width:e+"px"})},200)}),$(".swiper-controls .swiper-pagination-bullet").on("click",function(){var e=$(this).index();d.slideToLoop(e,1200),u.slideToLoop(e,1200),i=0,(a?r:o)()}),document.getElementById("toggleButton").addEventListener("click",function(){var e,t;a?(clearTimeout(s),a=!1):r(),e=a,(t=document.getElementById("toggleButton")).textContent=e?"Stop":"Play",t.classList.toggle("play",e),t.classList.toggle("stop",!e)}),window.addEventListener("resize",function(){d.update(),u.update()})}function mainInteraction(){function e(e){$(e).each(function(){var e,t=$(this),i=t.find(".rolling-list");t.find(".rolling-list .rolling-item"),t.find(".rolling-list .rolling-item img");t.length?(t.addClass("roller1"),(e=t.clone(!0)).addClass("roller2"),t.parent(".sub-section").append(e),t.css("left","0px"),e.css("left",i.outerWidth()+"px"),t.addClass("original"),e.addClass("clone")):console.error('Element with the class "rolling-display" not found.')})}function t(e){$(e).each(function(){var e,t=$(this);t.find(".rolling-list");t.length?(t.addClass("roller3"),(e=t.clone(!0)).addClass("roller4"),t.parent(".sub-section").append(e),t.addClass("original"),e.addClass("clone")):console.error('Element with the class "rolling-display" not found.')})}e(".rolling-01"),t(".rolling-02"),e(".rolling-03"),e(".rolling-04"),t(".rolling-05");new Swiper(".story-06 .swiper",{autoplay:{delay:2500,disableOnInteraction:!1},loop:!0,speed:600,navigation:{nextEl:".story-06 .swiper-button-next",prevEl:".story-06 .swiper-button-prev"},breakpoints:{0:{spaceBetween:12,slidesPerView:"auto",freeMode:!0,slidesPerGroup:1},1024:{slidesPerView:3,spaceBetween:20,slidesPerGroup:3},1560:{slidesPerView:4,spaceBetween:20,slidesPerGroup:4}}});function n(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var i=new Swiper(".story-02 .swiper",{autoplay:{delay:2500,disableOnInteraction:!1},loop:!0,speed:600,slidesPerView:"auto",freeMode:!0,navigation:{nextEl:".story-02 .swiper-button-next",prevEl:".story-02 .swiper-button-prev"},pagination:{el:".story-02 .swiper-pagination",type:"progressbar"},breakpoints:{0:{spaceBetween:12},1024:{spaceBetween:24}}});gsap.utils.toArray('[active-animation="main"]').forEach(e=>{gsap.to(e,{scrollTrigger:{trigger:e,start:"20% 98%",end:"top bottom",onEnter:()=>{e.classList.add("active-animation-main"),e.classList.contains("swiper-list")&&i.autoplay.start(),e.classList.contains("story-03")&&document.querySelectorAll(".story-03 .data-info").forEach(e=>{var t=parseInt(e.textContent.replace(/,/g,""),10);let i={value:0};gsap.to(i,{value:t,duration:2,ease:"swing",onUpdate:()=>{e.textContent=n(Math.ceil(i.value))}})})},onEnterBack:()=>{e.classList.add("active-animation-main"),e.classList.contains("swiper-list")&&i.autoplay.start(),e.classList.contains("story-03")&&document.querySelectorAll(".story-03 .data-info").forEach(e=>{var t=parseInt(e.textContent.replace(/,/g,""),10);let i={value:0};gsap.to(i,{value:t,duration:2,ease:"swing",onUpdate:()=>{e.textContent=n(Math.ceil(i.value))}})})},onLeaveBack:()=>{e.classList.remove("active-animation-main"),e.classList.contains("swiper-list")&&i.autoplay.stop()}}})})}