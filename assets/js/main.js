function mainVisual(){var n=[{name:"ClickESG Service"},{name:"ClickESG Solutions"},{name:"About ClickESG"}],i=0,a="";let s=!1,t=!1;function e(t,e){var t=t.realIndex,i=e.realIndex;0===t&&i===n.length-1?e.slideNext():t===n.length-1&&0===i?e.slidePrev():i<t?e.slideNext():t<i&&e.slidePrev()}function o(){var t=$(".swiper-pagination-bullet-active .timer-title").outerWidth(),e=100*i/50;$(".count_txt").text(i),$(".swiper-pagination-bullet .timer-percent").css({width:"0%"}),$(".swiper-pagination-bullet-active .timer-percent").css({width:e+"%"}),$(".swiper-pagination-bullet").css({width:"18px"}),$(".swiper-pagination-bullet-active").css({width:t+"px"})}function l(){var t=$(".swiper-pagination-bullet-active .timer-title").outerWidth();$(".swiper-pagination-bullet-active").css({width:t+"px"}),clearInterval(a),a=setInterval(()=>{50<=++i&&(d.slideNext(),i=0),o()},100),s=!0}function r(t,e){t.params.touchRatio=e?1:0,t.update()}var p=new Swiper(".swiper.link",{loop:!0,effect:"fade"}),c=new Swiper(".swiper.bg",{slidesPerView:1,loop:!0,speed:1200,pagination:{el:".swiper-controls .swiper-pagination",clickable:!0,renderBullet:function(t,e){return'<div class="'+e+'"><span class="timer-title">0'+(t+1)+" "+n[t].name+'</span><span class="timer-bar"><span class="timer-percent"></span></span></div>'}},thumbs:{swiper:p}}),d=new Swiper(".swiper.title",{loop:!0,speed:1200,on:{init:function(){$(".swiper-pagination-bullet").css({width:"18px"}),setTimeout(function(){l()},100)},slideChangeTransitionStart:function(){r(this,!1),i=0,o(),setTimeout(()=>r(this,!0),1300)}}});d.on("slideChangeTransitionStart",function(){t||(t=!0,e(d,c),t=!1)}),d.on("touchEnd",function(){t||(t=!0,e(d,c),t=!1),setTimeout(function(){var t=$(".swiper-pagination-bullet-active .timer-title").outerWidth();$(".swiper-pagination-bullet").css({width:"18px"}),$(".swiper-pagination-bullet-active").css({width:t+"px"})},200)}),$(".swiper-controls .swiper-pagination-bullet").on("click",function(){var t=$(this).index();c.slideToLoop(t,1200),d.slideToLoop(t,1200),i=0,(s?l:o)()}),document.getElementById("toggleButton").addEventListener("click",function(){var t,e;s?(clearTimeout(a),s=!1):l(),t=s,(e=document.getElementById("toggleButton")).textContent=t?"Stop":"Play",e.classList.toggle("play",t),e.classList.toggle("stop",!t)}),window.addEventListener("resize",function(){c.update(),d.update()})}function mainInteraction(){function t(t){$(t).each(function(){var t,e=$(this),i=e.find(".rolling-list");e.length?(e.addClass("roller1"),(t=e.clone(!0)).addClass("roller2"),e.parent(".sub-section").append(t),e.css("left","0px"),t.css("left",i.width()+"px"),e.addClass("original"),t.addClass("clone")):console.error('Element with the class "rolling-display" not found.')})}function e(t){$(t).each(function(){var t,e=$(this);e.find(".rolling-list");e.length?(e.addClass("roller3"),(t=e.clone(!0)).addClass("roller4"),e.parent(".sub-section").append(t),e.addClass("original"),t.addClass("clone")):console.error('Element with the class "rolling-display" not found.')})}t(".rolling-01"),e(".rolling-02"),t(".rolling-03"),t(".rolling-04"),e(".rolling-05");new Swiper(".story-06 .swiper",{slidesPerView:4,spaceBetween:20,slidesPerGroup:4,autoplay:{delay:2500,disableOnInteraction:!1},loop:!0,speed:600,navigation:{nextEl:".story-06 .swiper-button-next",prevEl:".story-06 .swiper-button-prev"}});var i=new Swiper(".story-02 .swiper",{loop:!0,slidesPerView:"auto",spaceBetween:32,freeMode:!0,autoplay:!1,speed:600,navigation:{nextEl:".story-02 .swiper-button-next",prevEl:".story-02 .swiper-button-prev"},pagination:{el:".story-02 .swiper-pagination",type:"progressbar"}});gsap.utils.toArray('[active-animation="main"]').forEach(t=>{gsap.to(t,{scrollTrigger:{trigger:t,start:"20% 98%",end:"top bottom",onEnter:()=>{t.classList.add("active-animation-main"),t.classList.contains("swiper-list")&&i.autoplay.start(),t.classList.contains("story-03")&&document.querySelectorAll(".story-03 .data-info").forEach(t=>{var e=parseInt(t.textContent.replace(/,/g,""),10);let i={value:0};gsap.to(i,{value:e,duration:2,ease:"swing",onUpdate:()=>{t.textContent=Math.ceil(i.value).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}})})},onLeaveBack:()=>{t.classList.remove("active-animation-main"),t.classList.contains("swiper-list")&&i.autoplay.stop()}}})})}